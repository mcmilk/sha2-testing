/*
 * PPC64 - Based on public domain code by Jeffrey Walton
 *
 * Copyright (c) 2022 Tino Reichardt <milky-zfs@mcmilk.de>
 * Public domain with CC0 1.0.
 */

#if (defined(__PPC64__) && defined(__BIG_ENDIAN__))
	.machine power8
	.section	".text"
	.align 2
	.globl sha256_process_p8
	.section	".opd","aw"
	.align 3
sha256_process_p8:
	.quad	.L.sha256_process_p8,.TOC.@tocbase,0
	.previous
	.type	sha256_process_p8, @function
.L.sha256_process_p8:
.LFB30:
	.cfi_startproc
	mflr 0
	li 9,16
	addis 10,2,.LANCHOR0@toc@ha
	addi 10,10,.LANCHOR0@toc@l
	addi 8,10,16
	addi 7,10,32
	addi 6,10,48
	rldicr 11,10,0,59
	.cfi_register 65, 0
	bl _savegpr0_27
	.cfi_offset 27, -40
	.cfi_offset 28, -32
	.cfi_offset 29, -24
	.cfi_offset 30, -16
	.cfi_offset 31, -8
	.cfi_offset 65, 16
	addi 0,1,-48
	addis 29,2,.LC0@toc@ha
	bl _savevr_20
	.cfi_offset 97, -240
	.cfi_offset 98, -224
	.cfi_offset 99, -208
	.cfi_offset 100, -192
	.cfi_offset 101, -176
	.cfi_offset 102, -160
	.cfi_offset 103, -144
	.cfi_offset 104, -128
	.cfi_offset 105, -112
	.cfi_offset 106, -96
	.cfi_offset 107, -80
	.cfi_offset 108, -64
	addis 28,2,.LC1@toc@ha
	rldicr 8,8,0,59
	li 0,16
	rldicr 7,7,0,59
	lxvw4x 41,0,3
	lxvw4x 40,3,9
	li 12,32
	rldicr 6,6,0,59
	li 31,48
	addi 30,10,256
	addi 29,29,.LC0@toc@l
	addi 28,28,.LC1@toc@l
.L2:
	cmpdi 0,5,0
	bne 0,.L4
	stxvw4x 41,0,3
	li 9,16
	addi 0,1,-48
	stxvw4x 40,3,9
	bl _restvr_20
	b _restgpr0_27
	.cfi_remember_state
	.cfi_restore 31
	.cfi_restore 30
	.cfi_restore 29
	.cfi_restore 28
	.cfi_restore 27
	.cfi_restore 65
	.cfi_restore 108
	.cfi_restore 107
	.cfi_restore 106
	.cfi_restore 105
	.cfi_restore 104
	.cfi_restore 103
	.cfi_restore 102
	.cfi_restore 101
	.cfi_restore 100
	.cfi_restore 99
	.cfi_restore 98
	.cfi_restore 97
.L4:
	.cfi_restore_state
	vsldoi 11,8,8,4
	lxvw4x 32,0,4
	lxvw4x 33,0,11
	vsldoi 7,9,9,4
	addi 9,10,64
	vshasigmaw 12,8,1,15
	vsldoi 4,11,11,4
	vsldoi 15,7,7,4
	vsldoi 10,4,4,4
	xxsel 45,36,43,40
	vsldoi 3,15,15,4
	xxlor 38,32,32
	vadduwm 13,13,10
	vadduwm 10,0,1
	vsldoi 0,0,0,4
	vsldoi 1,1,1,4
	vadduwm 13,13,10
	vshasigmaw 10,9,1,0
	vadduwm 4,1,4
	xxlor 37,32,32
	vadduwm 13,13,12
	xxlxor 44,41,39
	vsldoi 1,1,1,4
	vadduwm 3,13,3
	xxsel 44,39,47,44
	vadduwm 12,12,10
	xxsel 42,43,40,35
	vadduwm 11,1,11
	vsldoi 1,1,1,4
	vadduwm 10,10,0
	vadduwm 12,12,13
	vshasigmaw 13,3,1,15
	vsldoi 0,0,0,4
	vadduwm 10,10,4
	vshasigmaw 4,12,1,0
	vadduwm 10,10,13
	xxlxor 45,41,44
	xxsel 45,41,39,45
	vadduwm 15,10,15
	vadduwm 13,13,4
	vshasigmaw 2,15,1,15
	xxlor 36,32,32
	vadduwm 13,13,10
	xxsel 42,40,35,47
	vadduwm 10,10,0
	xxlxor 49,45,44
	vsldoi 0,0,0,4
	vadduwm 11,10,11
	xxsel 49,44,41,49
	vshasigmaw 10,13,1,0
	vadduwm 11,11,2
	xxlor 34,32,32
	vadduwm 17,17,10
	vadduwm 0,0,1
	vadduwm 7,11,7
	vadduwm 17,17,11
	vshasigmaw 11,7,1,15
	xxsel 42,35,47,39
	xxlxor 48,49,45
	vshasigmaw 1,17,1,0
	vadduwm 11,8,11
	xxsel 48,45,44,48
	vadduwm 0,0,11
	vadduwm 16,16,1
	lxvw4x 33,0,8
	vadduwm 0,0,10
	vadduwm 16,16,0
	vadduwm 14,9,0
	lxvw4x 32,4,0
	xxsel 42,47,39,46
	vshasigmaw 11,14,1,15
	vshasigmaw 19,16,1,0
	vadduwm 10,10,11
	vadduwm 11,0,1
	xxlor 50,32,32
	vsldoi 1,1,1,4
	vsldoi 0,0,0,4
	vadduwm 10,10,11
	vadduwm 10,10,3
	xxlxor 35,48,49
	xxsel 35,49,45,35
	vadduwm 11,10,12
	vadduwm 3,3,19
	vshasigmaw 12,11,1,15
	xxlor 51,32,32
	vadduwm 29,3,10
	xxsel 42,39,46,43
	vadduwm 10,10,12
	vadduwm 12,0,1
	xxlxor 35,61,48
	vsldoi 0,0,0,4
	vadduwm 10,10,12
	vsldoi 1,1,1,4
	xxsel 35,48,49,35
	vadduwm 10,10,15
	vshasigmaw 15,29,1,0
	vadduwm 12,10,13
	vadduwm 3,3,15
	xxsel 45,46,43,44
	vadduwm 28,3,10
	vshasigmaw 10,12,1,15
	xxlor 35,32,32
	vshasigmaw 15,28,1,0
	vadduwm 13,13,10
	vadduwm 10,0,1
	vsldoi 1,1,1,4
	vsldoi 0,0,0,4
	vadduwm 13,13,10
	xxlxor 42,60,61
	vadduwm 13,13,7
	xxsel 42,61,48,42
	vadduwm 7,13,17
	vadduwm 10,10,15
	xxlor 49,32,32
	vadduwm 0,0,1
	vadduwm 27,10,13
	xxsel 45,43,44,39
	vshasigmaw 10,7,1,15
	xxlxor 33,59,60
	vadduwm 13,13,10
	xxsel 33,60,61,33
	vadduwm 0,13,0
	vshasigmaw 13,27,1,0
	vadduwm 0,0,14
	vadduwm 1,1,13
	lxvw4x 45,0,7
	vadduwm 30,1,0
	lxvw4x 33,4,12
	vadduwm 10,0,16
	xxsel 32,44,39,42
	vshasigmaw 15,10,1,15
	vadduwm 0,0,15
	vadduwm 15,1,13
	xxlor 48,33,33
	vsldoi 13,13,13,4
	vsldoi 1,1,1,4
	vadduwm 0,0,15
	vshasigmaw 15,30,1,0
	vadduwm 0,0,11
	xxlxor 43,62,59
	xxsel 43,59,60,43
	vadduwm 29,0,29
	vadduwm 11,11,15
	vshasigmaw 14,29,1,15
	xxlor 47,33,33
	vadduwm 11,11,0
	xxsel 32,39,42,61
	vadduwm 0,0,14
	vadduwm 14,1,13
	vsldoi 1,1,1,4
	vsldoi 13,13,13,4
	vadduwm 0,0,14
	vshasigmaw 14,11,1,0
	vadduwm 12,0,12
	xxlxor 32,43,62
	xxsel 32,62,59,32
	vadduwm 28,12,28
	vadduwm 0,0,14
	vshasigmaw 31,28,1,15
	xxlor 46,33,33
	vadduwm 0,0,12
	xxsel 44,42,61,60
	vadduwm 12,12,31
	vadduwm 31,1,13
	xxlxor 57,32,43
	vsldoi 1,1,1,4
	vadduwm 12,12,31
	vsldoi 13,13,13,4
	xxsel 57,43,62,57
	xxlor 63,33,33
	vadduwm 12,12,7
	vshasigmaw 7,0,1,0
	vadduwm 13,1,13
	vadduwm 27,12,27
	vadduwm 25,25,7
	vshasigmaw 7,27,1,15
	vadduwm 25,25,12
	xxsel 44,61,60,59
	xxlxor 55,57,32
	vadduwm 12,12,7
	xxsel 55,32,43,55
	vadduwm 13,12,13
	vshasigmaw 12,25,1,0
	vadduwm 13,13,10
	vadduwm 23,23,12
	lxvw4x 44,0,6
	vadduwm 1,13,30
	vadduwm 23,23,13
	lxvw4x 45,4,31
	addi 4,4,64
	xxsel 39,60,59,33
	vshasigmaw 10,1,1,15
	vadduwm 7,7,10
	vadduwm 10,13,12
	xxlor 62,45,45
	vsldoi 12,12,12,4
	vsldoi 13,13,13,4
	vadduwm 7,7,10
	xxlxor 42,55,57
	vadduwm 7,7,29
	xxsel 42,57,32,42
	vshasigmaw 29,23,1,0
	vadduwm 11,7,11
	vadduwm 10,10,29
	xxlor 61,45,45
	vshasigmaw 26,11,1,15
	vadduwm 10,10,7
	xxsel 39,59,33,43
	vadduwm 7,7,26
	vadduwm 26,13,12
	xxlxor 56,42,55
	vsldoi 13,13,13,4
	vadduwm 7,7,26
	vsldoi 12,12,12,4
	xxsel 56,55,57,56
	vadduwm 7,7,28
	vshasigmaw 28,10,1,0
	vadduwm 0,7,0
	vadduwm 24,24,28
	xxlor 60,45,45
	vadduwm 24,24,7
	vshasigmaw 26,0,1,15
	xxsel 39,33,43,32
	vadduwm 7,7,26
	vadduwm 26,13,12
	vsldoi 13,13,13,4
	vsldoi 12,12,12,4
	vadduwm 7,7,26
	xxlxor 58,56,42
	vadduwm 12,13,12
	vadduwm 7,7,27
	xxsel 58,42,55,58
	vshasigmaw 27,24,1,0
	vadduwm 25,7,25
	vadduwm 26,26,27
	xxlor 59,45,45
	vshasigmaw 22,25,1,15
	vadduwm 26,26,7
	xxsel 39,43,32,57
	vadduwm 7,7,22
	xxlxor 45,58,56
	vadduwm 12,7,12
	xxsel 45,56,42,45
	vadduwm 12,12,1
	vshasigmaw 1,26,1,0
	vadduwm 1,13,1
	vadduwm 23,12,23
	vadduwm 1,1,12
.L3:
	vshasigmaw 7,28,0,15
	vshasigmaw 13,5,0,0
	lvx 12,0,9
	addi 27,9,16
	vshasigmaw 22,23,1,15
	vadduwm 5,5,14
	vadduwm 13,15,13
	vadduwm 6,6,7
	vadduwm 6,6,13
	xxsel 45,32,57,55
	vadduwm 7,6,12
	vadduwm 13,13,22
	vadduwm 7,7,13
	xxlxor 45,33,58
	vadduwm 11,7,11
	xxsel 45,58,56,45
	vshasigmaw 7,1,1,0
	vadduwm 10,11,10
	vadduwm 13,13,7
	vsldoi 7,12,12,4
	vadduwm 21,13,11
	vshasigmaw 11,27,0,15
	vshasigmaw 13,4,0,0
	vadduwm 4,4,31
	vadduwm 13,13,11
	xxsel 43,57,55,42
	vadduwm 5,13,5
	vshasigmaw 13,10,1,15
	vadduwm 11,11,7
	xxlxor 39,53,33
	vadduwm 0,13,0
	vsldoi 13,12,12,8
	xxsel 39,33,58,39
	vsldoi 12,12,12,12
	vadduwm 11,11,0
	vshasigmaw 0,21,1,0
	vadduwm 11,11,5
	vadduwm 7,7,0
	vshasigmaw 0,2,0,0
	vadduwm 2,2,30
	vadduwm 22,7,11
	vadduwm 24,11,24
	vshasigmaw 11,6,0,15
	xxlxor 39,54,53
	vadduwm 0,0,11
	xxsel 43,55,42,56
	xxsel 39,53,33,39
	vadduwm 4,0,4
	vshasigmaw 0,24,1,15
	vadduwm 11,11,13
	vshasigmaw 13,5,0,15
	vadduwm 0,0,25
	vadduwm 11,11,0
	vshasigmaw 0,22,1,0
	vadduwm 11,11,4
	vadduwm 7,7,0
	vshasigmaw 0,18,0,0
	vadduwm 18,18,29
	vadduwm 26,11,26
	vadduwm 25,7,11
	vadduwm 0,0,13
	vshasigmaw 13,26,1,15
	vadduwm 2,0,2
	xxsel 32,42,56,58
	vadduwm 13,13,23
	vadduwm 0,0,12
	xxlxor 44,57,54
	vadduwm 0,0,13
	xxsel 44,54,53,44
	vshasigmaw 13,25,1,0
	vadduwm 0,0,2
	vadduwm 12,12,13
	vshasigmaw 13,19,0,0
	vadduwm 1,0,1
	vadduwm 19,19,28
	vadduwm 11,12,0
	vshasigmaw 12,4,0,15
	lvx 0,0,27
	addi 27,9,32
	vshasigmaw 7,1,1,15
	vadduwm 13,13,12
	vadduwm 18,13,18
	xxsel 45,56,58,33
	vadduwm 12,18,0
	vadduwm 13,13,7
	vsldoi 7,0,0,4
	vadduwm 12,12,13
	vshasigmaw 13,11,1,0
	vadduwm 10,12,10
	xxlxor 44,43,57
	xxsel 44,57,54,44
	vadduwm 21,10,21
	vadduwm 12,12,13
	vshasigmaw 13,3,0,0
	vadduwm 3,3,27
	vadduwm 10,12,10
	vshasigmaw 12,2,0,15
	vadduwm 13,13,12
	xxsel 44,58,33,53
	vadduwm 19,13,19
	vshasigmaw 13,21,1,15
	vadduwm 12,12,7
	vadduwm 13,19,13
	vadduwm 13,13,12
	xxlxor 44,42,43
	vadduwm 13,13,24
	xxsel 44,43,57,44
	vshasigmaw 24,10,1,0
	vadduwm 7,13,22
	vadduwm 12,12,24
	vsldoi 24,0,0,8
	vsldoi 0,0,0,12
	vadduwm 22,12,13
	vshasigmaw 13,17,0,0
	vshasigmaw 12,18,0,15
	vadduwm 13,13,12
	xxsel 44,33,53,39
	vadduwm 3,13,3
	vshasigmaw 13,7,1,15
	vadduwm 12,12,24
	vadduwm 13,3,13
	vadduwm 13,13,12
	xxlxor 44,54,42
	vadduwm 13,13,26
	xxsel 44,42,43,44
	vshasigmaw 26,22,1,0
	vadduwm 25,13,25
	vadduwm 12,12,26
	vadduwm 23,12,13
	vshasigmaw 13,16,0,0
	vshasigmaw 12,19,0,15
	vadduwm 17,17,13
	vshasigmaw 13,25,1,15
	vadduwm 12,12,6
	vadduwm 17,12,17
	xxsel 44,53,39,57
	vadduwm 13,17,13
	vadduwm 0,12,0
	vadduwm 0,13,0
	vshasigmaw 13,23,1,0
	vadduwm 0,0,1
	xxlxor 33,55,54
	xxsel 33,54,42,33
	vadduwm 26,0,11
	vadduwm 1,1,13
	vshasigmaw 13,3,0,15
	vshasigmaw 12,26,1,15
	vadduwm 24,1,0
	vshasigmaw 0,15,0,0
	lvx 1,0,27
	addi 27,9,48
	addi 9,9,64
	vadduwm 13,13,5
	cmpld 0,30,9
	vadduwm 16,16,0
	xxlxor 43,56,55
	vadduwm 16,13,16
	xxsel 45,39,57,58
	xxsel 43,55,54,43
	vadduwm 13,13,12
	vadduwm 0,16,1
	vsldoi 12,1,1,4
	vadduwm 0,0,13
	vshasigmaw 13,24,1,0
	vadduwm 0,0,21
	vadduwm 11,11,13
	vshasigmaw 13,17,0,15
	vadduwm 10,0,10
	vadduwm 11,11,0
	vshasigmaw 0,14,0,0
	vadduwm 13,13,4
	vadduwm 15,15,0
	xxsel 32,57,58,42
	vadduwm 15,13,15
	vshasigmaw 13,10,1,15
	vadduwm 0,0,12
	vshasigmaw 12,11,1,0
	vadduwm 13,15,13
	vadduwm 13,13,0
	xxlxor 32,43,56
	xxsel 32,56,55,32
	vadduwm 13,13,7
	vsldoi 7,1,1,8
	vsldoi 1,1,1,12
	vadduwm 0,0,12
	vadduwm 21,13,22
	vshasigmaw 12,16,0,15
	vadduwm 0,0,13
	vshasigmaw 13,31,0,0
	vadduwm 12,12,2
	vadduwm 14,13,14
	vshasigmaw 13,21,1,15
	vadduwm 14,12,14
	xxsel 44,58,42,53
	vadduwm 13,14,13
	vadduwm 12,12,7
	vadduwm 13,13,12
	vshasigmaw 12,0,1,0
	vadduwm 13,13,25
	xxlxor 57,32,43
	xxsel 57,43,56,57
	vadduwm 23,13,23
	vadduwm 25,25,12
	vshasigmaw 12,15,0,15
	vadduwm 25,25,13
	vshasigmaw 13,30,0,0
	vadduwm 12,12,18
	vadduwm 31,13,31
	xxsel 45,42,53,55
	vadduwm 31,12,31
	vshasigmaw 12,23,1,15
	vadduwm 13,13,1
	xxlxor 33,57,32
	vadduwm 12,31,12
	xxsel 33,32,43,33
	vadduwm 13,13,12
	vshasigmaw 12,25,1,0
	vadduwm 13,13,26
	vadduwm 1,1,12
	lvx 12,0,27
	vadduwm 20,1,13
	vadduwm 22,13,24
	vshasigmaw 1,14,0,15
	vshasigmaw 13,29,0,0
	vadduwm 1,1,19
	vadduwm 30,13,30
	xxsel 45,53,55,54
	vsldoi 26,12,12,4
	vadduwm 30,30,1
	vshasigmaw 1,22,1,15
	vadduwm 13,13,1
	vadduwm 1,30,12
	vadduwm 13,13,1
	vshasigmaw 1,20,1,0
	vadduwm 13,13,10
	xxlxor 42,52,57
	xxsel 42,57,32,42
	vadduwm 11,13,11
	vadduwm 10,10,1
	vshasigmaw 1,31,0,15
	xxsel 39,55,54,43
	vadduwm 10,10,13
	vshasigmaw 13,28,0,0
	vadduwm 1,1,3
	vadduwm 7,7,26
	vadduwm 29,13,29
	xxlxor 45,42,52
	vsldoi 26,12,12,8
	vsldoi 12,12,12,12
	vadduwm 29,29,1
	vshasigmaw 1,11,1,15
	xxsel 45,52,57,45
	vadduwm 1,29,1
	vadduwm 7,7,1
	vshasigmaw 1,10,1,0
	vadduwm 7,7,21
	vadduwm 13,13,1
	vshasigmaw 1,30,0,15
	vadduwm 24,13,7
	vshasigmaw 13,27,0,0
	vadduwm 0,7,0
	vadduwm 1,1,17
	vadduwm 28,13,28
	vshasigmaw 13,6,0,0
	xxsel 39,54,43,32
	vadduwm 28,28,1
	vshasigmaw 1,0,1,15
	vadduwm 7,7,26
	xxlxor 58,56,42
	vadduwm 1,28,1
	vadduwm 27,13,27
	xxsel 58,42,52,58
	vadduwm 7,7,1
	vshasigmaw 1,24,1,0
	vadduwm 7,7,23
	vadduwm 26,26,1
	vshasigmaw 1,29,0,15
	vadduwm 25,7,25
	vadduwm 26,26,7
	vadduwm 1,1,16
	xxsel 39,43,32,57
	vshasigmaw 13,26,1,0
	vadduwm 27,27,1
	vshasigmaw 1,25,1,15
	vadduwm 12,7,12
	vadduwm 1,27,1
	vadduwm 12,12,1
	xxlxor 33,58,56
	xxsel 33,56,42,33
	vadduwm 12,12,22
	vadduwm 1,1,13
	vadduwm 23,12,20
	vadduwm 1,1,12
	bne 0,.L3
	lxvw4x 44,0,29
	addi 5,5,-1
	rldicl 5,5,0,32
	vperm 24,24,10,12
	lxvw4x 42,0,28
	vperm 1,1,26,12
	vperm 25,23,25,12
	vperm 0,0,11,12
	vperm 1,1,24,10
	vperm 0,25,0,10
	vadduwm 9,9,1
	vadduwm 8,8,0
	b .L2
	.long 0
	.byte 0,9,0,1,0,5,0,0
	.cfi_endproc
.LFE30:
	.size	sha256_process_p8,.-.L.sha256_process_p8
	.section	.rodata.cst16,"aM",@progbits,16
	.align 4
.LC0:
	.byte	0
	.byte	1
	.byte	2
	.byte	3
	.byte	16
	.byte	17
	.byte	18
	.byte	19
	.byte	0
	.byte	0
	.byte	0
	.byte	0
	.byte	0
	.byte	0
	.byte	0
	.byte	0
	.align 4
.LC1:
	.byte	0
	.byte	1
	.byte	2
	.byte	3
	.byte	4
	.byte	5
	.byte	6
	.byte	7
	.byte	16
	.byte	17
	.byte	18
	.byte	19
	.byte	20
	.byte	21
	.byte	22
	.byte	23
	.section	.rodata
	.align 4
	.set	.LANCHOR0,. + 0
	.type	_ZL6KEY256, @object
	.size	_ZL6KEY256, 256
_ZL6KEY256:
	.long	1116352408
	.long	1899447441
	.long	-1245643825
	.long	-373957723
	.long	961987163
	.long	1508970993
	.long	-1841331548
	.long	-1424204075
	.long	-670586216
	.long	310598401
	.long	607225278
	.long	1426881987
	.long	1925078388
	.long	-2132889090
	.long	-1680079193
	.long	-1046744716
	.long	-459576895
	.long	-272742522
	.long	264347078
	.long	604807628
	.long	770255983
	.long	1249150122
	.long	1555081692
	.long	1996064986
	.long	-1740746414
	.long	-1473132947
	.long	-1341970488
	.long	-1084653625
	.long	-958395405
	.long	-710438585
	.long	113926993
	.long	338241895
	.long	666307205
	.long	773529912
	.long	1294757372
	.long	1396182291
	.long	1695183700
	.long	1986661051
	.long	-2117940946
	.long	-1838011259
	.long	-1564481375
	.long	-1474664885
	.long	-1035236496
	.long	-949202525
	.long	-778901479
	.long	-694614492
	.long	-200395387
	.long	275423344
	.long	430227734
	.long	506948616
	.long	659060556
	.long	883997877
	.long	958139571
	.long	1322822218
	.long	1537002063
	.long	1747873779
	.long	1955562222
	.long	2024104815
	.long	-2067236844
	.long	-1933114872
	.long	-1866530822
	.long	-1538233109
	.long	-1090935817
	.long	-965641998
#endif
